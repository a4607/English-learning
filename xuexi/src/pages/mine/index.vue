<template>
  <view class="mine-page">
    <view class="profile">
      <image class="avatar" src="/static/logo.png" mode="aspectFill"></image>
      <view class="info">
        <text class="name">æœªç™»å½•ç”¨æˆ·</text>
        <text class="desc">è¿ç»­å­¦ä¹  {{ stats.streak }} å¤© Â· æ˜Ÿæ˜Ÿ {{ stats.stars }}</text>
      </view>
      <button class="login-btn" @click="login">ç™»å½•/ç»‘å®š</button>
    </view>

    <view class="stat-cards">
      <view class="card">
        <text class="num">{{ stats.streak }}</text>
        <text class="label">å­¦ä¹ å¤©æ•°</text>
      </view>
      <view class="card">
        <text class="num">{{ stats.words }}</text>
        <text class="label">æŒæ¡è¯æ±‡</text>
      </view>
      <view class="card">
        <text class="num">{{ stats.lessons }}</text>
        <text class="label">å®Œæˆè¯¾æ—¶</text>
      </view>
    </view>

    <view class="menu">
      <view class="menu-item" @click="goRecord">
        <text class="m-icon">ğŸ“</text>
        <view class="m-texts">
          <text class="m-title">å­¦ä¹ è®°å½•</text>
          <text class="m-sub">æŸ¥çœ‹æœ€è¿‘çš„å­¦ä¹ æƒ…å†µ</text>
        </view>
        <text class="m-arrow">â€º</text>
      </view>

      <view class="menu-item" @click="goSettings">
        <text class="m-icon">âš™ï¸</text>
        <view class="m-texts">
          <text class="m-title">è®¾ç½®</text>
          <text class="m-sub">è¯­éŸ³ã€æé†’ã€å¤–è§‚</text>
        </view>
        <text class="m-arrow">â€º</text>
      </view>

      <view class="menu-item" @click="contact">
        <text class="m-icon">ğŸ“®</text>
        <view class="m-texts">
          <text class="m-title">åé¦ˆä¸å¸®åŠ©</text>
          <text class="m-sub">é‡åˆ°é—®é¢˜ï¼Ÿç‚¹æ­¤è”ç³»</text>
        </view>
        <text class="m-arrow">â€º</text>
      </view>
    </view>

    <view class="bottom-nav">
      <view class="nav-item" @click="goToSync">
        <text class="nav-icon">ğŸ“</text>
        <text class="nav-label">åŒæ­¥å­¦</text>
      </view>
      <view class="nav-item" @click="goToHomework">
        <text class="nav-icon">ğŸ“</text>
        <text class="nav-label">ä½œä¸š</text>
      </view>
      <view class="nav-item" @click="goToExpand">
        <text class="nav-icon">ğŸ§­</text>
        <text class="nav-label">æ‹“å±•å­¦</text>
      </view>
      <view class="nav-item active">
        <text class="nav-icon">ğŸ™‚</text>
        <text class="nav-label">æˆ‘çš„</text>
        <view class="active-underline"></view>
      </view>
    </view>
  </view>
</template>

<script setup>
import { reactive } from 'vue'

const stats = reactive({ streak: 1, stars: 10, words: 35, lessons: 6 })
const login = () => uni.showToast({ title: 'æ¨¡æ‹Ÿç™»å½•', icon: 'none' })
const goRecord = () => uni.showToast({ title: 'å­¦ä¹ è®°å½•', icon: 'none' })
const goSettings = () => uni.showToast({ title: 'è®¾ç½®', icon: 'none' })
const contact = () => uni.showToast({ title: 'åé¦ˆä¸å¸®åŠ©', icon: 'none' })

// åº•éƒ¨å¯¼èˆª
const goToSync = () => { uni.navigateTo({ url: '/pages/index/index' }) }
const goToHomework = () => { uni.navigateTo({ url: '/pages/homework/index' }) }
const goToExpand = () => { uni.navigateTo({ url: '/pages/expand/index' }) }
</script>

<style scoped>
.mine-page { min-height: 100vh; background: #fff; padding-bottom: 64px }
.profile { display: flex; align-items: center; padding: 16px; gap: 12px }
.avatar { width: 56px; height: 56px; border-radius: 12px; background: #f3f4f6 }
.info { flex: 1 }
.name { display: block; font-size: 16px; font-weight: 800; color: #111 }
.desc { display: block; margin-top: 4px; color: #6b7280; font-size: 12px }
.login-btn { border: 1px solid #3b82f6; color: #3b82f6; background: #fff; border-radius: 10px; padding: 6px 10px; font-size: 12px }

.stat-cards { display: flex; padding: 0 16px 8px; gap: 12px }
.card { flex: 1; border: 1px solid #e5e7eb; border-radius: 12px; padding: 12px; text-align: center }
.num { display: block; font-size: 18px; font-weight: 800; color: #111 }
.label { display: block; margin-top: 6px; font-size: 12px; color: #6b7280 }

.menu { padding: 8px 16px; display: flex; flex-direction: column; gap: 10px }
.menu-item { display: flex; align-items: center; gap: 12px; padding: 14px; border: 1px solid #e5e7eb; border-radius: 12px }
.m-icon { font-size: 20px }
.m-texts { flex: 1 }
.m-title { display: block; font-size: 14px; font-weight: 700; color: #111 }
.m-sub { display: block; margin-top: 4px; font-size: 12px; color: #6b7280 }
.m-arrow { color: #9ca3af }

.bottom-nav { position: fixed; bottom: 0; left: 0; right: 0; background: #fff; display: flex; justify-content: space-around; padding: 8px 0; border-top: 1px solid #e5e7eb; z-index: 10000 }
.nav-item { display: flex; flex-direction: column; align-items: center; gap: 6px; padding: 10px 12px; border-radius: 8px; position: relative }
.nav-item.active .nav-icon, .nav-item.active .nav-label { color: #3b82f6 }
.active-underline { position: absolute; bottom: 4px; width: 28px; height: 3px; border-radius: 3px; background: #3b82f6 }
.nav-icon { font-size: 26px; color: #111 }
.nav-label { font-size: 10px; color: #6b7280; font-weight: 500 }
</style>

